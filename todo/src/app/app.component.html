<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <div>
    <h1>
      {{ title}}
    </h1>

    <p *ngIf="todos.length == 0"> <small> You haven't added any task. </small></p>

    <ul>
      <li *ngFor="let todo of todos">
        {{todo.id}}: {{todo.todo}}
        <button (click)="remove(todo)"> Remove </button> |
        <button *ngIf="!todo.done" (click)="markAsDone(todo)"> Done </button>
        <button *ngIf="todo.done" (click)="markAsUndone(todo)"> Redo </button> |
        <button (click)="rename(todo)"> Rename </button>
      </li>
    </ul>
  </div>


  <form [formGroup]="form">
    <fieldset>
      <label>Task: </label>
      <input type="text" placeholder="Add a new task" maxlength="20" formControlName="todo">
      <button [disabled]="form.invalid" (click)="add()"> Save </button>
      <small *ngIf="form.controls['todo'].invalid && !form.controls['todo'].pristine"> Length should be between 3 and 20
        characters</small>
    </fieldset>
  </form>


</body>

</html>